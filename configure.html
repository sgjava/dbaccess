<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.6 at 27 Apr 2015 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>dbaccess &#x2013; Configure</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
      <meta name="author" content="Steven P. Goldsmith" />
    <meta name="Date-Creation-yyyymmdd" content="20111213" />
    <meta name="Date-Revision-yyyymmdd" content="20150427" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                        <a href="http://www.codeferm.com" id="bannerLeft">
                                                <img src="images/logo.png" alt="DB Access API" />
                </a>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 27 Apr 2015</span>
                  &nbsp;| <span id="projectVersion">Version: 1.0.0-SNAPSHOT</span>
                      </div>
            <div class="xright">        
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>Main</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
            <strong>Configure</strong>
          </li>
                  <li class="none">
                          <a href="performance.html" title="Performance">Performance</a>
            </li>
                  <li class="none">
                          <a href="tests.html" title="Tests">Tests</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                        <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <!-- Copyright (c) Steven P. Goldsmith. All rights reserved. --><!--  --><!-- Created by Steven P. Goldsmith December 13, 2011 --><!-- sgoldsmith@codeferm.com --><div class="section">
<h2><a name="Configuration_of_project"></a>Configuration of project</h2>
<p>The project requires some configuration prior to building. In order to run the various tests a simple test table is required. I used PostgreSQL 9.3, but you should be able to use any JDBC 3 or 4 compliant driver. Also, since I make use of libraries (many of which are not in the public Maven repositories) it is best that you point to our <a class="externalLink" href="https://codeferm.com/nexus/content/repositories/public">Nexus</a> repository. You can also just grab the libraries and place them in your third party repository.</p>
<ol style="list-style-type: decimal">
<li>Download and install <a class="externalLink" href="http://www.postgresql.org/download">PostgresSQL</a> database server.</li>
<li>Configure PostgresSQL for XA Datasource
<ol style="list-style-type: lower-alpha">
<li>If you get &quot;javax.transaction.HeuristicMixedException: Heuristic Exception&quot; edit postgresql.conf and set max_prepared_transactions to be at least as big as max_connections.</li>
<li>After restarting postgresql service on Ubuntu you may get &quot;Failed system call was shmget(key=xxxxxxx, size=xxxxxxxx, xxxxx).&quot; Edit /etc/sysctl.conf and add/increase kernel.shmmax.</li></ol></li>
<li>Run the SQL script <a href="../test-classes/sql/test.sql">test.sql</a> This script creates the user, database and tables. Read the comments on which parts need to be run separately and which database user to use. You can use <a class="externalLink" href="http://www.pgadmin.org">pgAdmin</a> or similar tool. You may wish to use another database. This is a simple matter of:
<ol style="list-style-type: lower-alpha">
<li>Adding your JDBC driver JAR to test dependencies.</li>
<li>Modifying <a href="../classes/app.properties">app.properties</a> db.* and xa.* properties.</li>
<li>Modifying any SQL dialect differences in statements contained in <a href="../classes/sql.properties">sql.properties</a>.</li></ol></li>
<li>Configure Maven to use the Codeferm's Nexus repository.
<ol style="list-style-type: lower-alpha">
<li>Edit .m2/settings.xml to add repository.</li>
<li>See <a class="externalLink" href="http://wiki.netbeans.org/FaqNexus">Netbeans Nexus FAQ</a> if you are using Netbeans.</li></ol></li>
<li>Build Maven project (I used Netbeans 8.0 for the project, but this is a standard Maven 3 project).
<ol style="list-style-type: lower-alpha">
<li>Download latest build <a href="../../../ws/*zip*/workspace.zip">workspace.zip</a>. Unzip and copy this trunk directory into NetBeansProjects (or whatever directory your IDE uses).</li>
<li>Build project in Maven with mvn clean install or in Netbeans 8 you can open the project and do a Clean and Build. This should download all the dependencies, compile and run all the tests. The first time may take several minutes to download all the jars and run all the tests. Use mvn site to build Maven site.</li></ol></li></ol></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                   2015.
          All rights reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
